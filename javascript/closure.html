<script>
// Javascript è un linguaggio che usa il lexical scope (o static scope), cioè
// la visibilità di una variabile è collegata alla "porzione" o blocco
// di codice della funzione nella quale è definita (nel global scope altrimenti),
// come accade per quasi tutti i linguaggi tranne quelli (pochi) che usano
// il dynamic scoping.

var variable = "top-level";
function parentFunction() {
  var variable = "local";
  function childFunction() {
    console.log(variable);
  }
  return childFunction;
}

var child = parentFunction(); // Esegue parentFunction che restituisce la funzione childFunction.
child();

// Nonostante parentFunction() sia già stata eseguita la variabile interna
// a child() ancora tiene un riferimento a quella definita in parentFunction(),
// cioè in pratica l'ambiente locale dei parentFunction() esiste ancora.


// Ricorsività delle closures nelle inner functions (scope chaining).
function A(x) {
  function B(y) {
    function C(z) {
      console.log(x + y + z);
    }
    C(3);
  }
  B(2);
}
A(1);
</script>